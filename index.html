<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Css/style.css" />
    <link rel="stylesheet" href="Css/normalize.css" />
    <link rel="stylesheet" href="Css/all.min.css" />
    <title>chat</title>
  </head>
  <body>
    <span id="OpenAndClose" class="fa fa-chat">üí¨</span>
    <div class="card">
      <div class="chat">
        <header>
          <div class="progile-image">
            <img src="4.ico" alt="" />
          </div>
          <div class="person">
            <h4>Translate Chat ‚Äº</h4>
            <span>All Time 24h</span>
          </div>
        </header>
        <main>
          <div class="time">
            <span>Toady at 7:00</span>
          </div>
          <div class="sender">
            <p>Start your chat üòÅ</p>
          </div>
          <div class="resever">
            <p>Welcome üñê</p>
          </div>
        </main>
        <footer>
          <span class="fa fa-camera"></span>
          <span>üòÅ</span>
          <input
            id="input"
            type="text"
            placeholder=" Type your message here..."
          />
          <span class="fa fa-recorder">üéô</span>
          <span class="fa-solid fa-share"></span>
        </footer>
      </div>
    </div>
    <script src="jquery-3.7.1.js"></script>
    <script>
      fetch('data.json').then(response => response.json())
      .then(data =>{
        $("#OpenAndClose").click(function () {
        $(".card").toggleClass("faidIn");
        $(".card").slideDown(500);
      });
      $(".fa-share").click(function () {
        const inputText = $("#input").val().toLowerCase();
        const text = inputText.trim();
          $("main").append(`<div class="sender">
            <p>${text}</p>
          </div>`);
          $("#input").val("");
          $("main").scrollTop($("main").prop("scrollHeight"));
          for (let i = 0; i < data.length; i++) {
            if (data[i].word == text) {
              setTimeout(() => {
                $("main").append(`<div class="resever">
                  <p>${data[i].translation}</p>
                  </div>`);
                  $("main").scrollTop($("main").prop("scrollHeight"));
              },800);
            }
          }
      });
      $("#input").keyup(function (event) {
        if (event.keyCode == 13) {
          const inputText = $("#input").val().toLowerCase();
          const text = inputText.trim();
          
          $("main").append(`<div class="sender">
            <p>${text}</p>
          </div>`);
          $("#input").val("");
          $("main").scrollTop($("main").prop("scrollHeight"));
          for (let i = 0; i < data.length; i++) {
            if (data[i].word == text) {
              setTimeout(() => {
                $("main").append(`<div class="resever">
                  <p>${data[i].translation}</p>
                  </div>`);
                  $("main").scrollTop($("main").prop("scrollHeight"));
              },800);
            }
          }
        }
      });
      });
   

    </script>
  </body>
</html>
